{% load custom_filters %}

{% with info=row_data.review_details %}
<div class="table_edit_boxes larger_box">

    <div ng-if="true">
        <a broadcaster ng-click="broadcasterCtrl.broadcast('openCampaignDetailsPopup', {setupUrl: '{% url debra.job_posts_views.campaign_create row_data.campaign_id %}#/3', values: values, storedValues: storedValues, contractId: {{ row_data.contract_id }}})" class="txt_link lessergray" >View Global Details</a>

        <div post-analytics-update class="edit_field_in_table" target-url="{% url debra.job_posts_views.edit_contract row_data.contract_id %}" values-list='{"description": "{{ row_data.global_details.description|default_if_none:''|escapejs }}", "whoShouldApply": "{{ row_data.global_details.who_should_apply|default_if_none:''|escapejs }}", "hashtagsRequired": "{{ row_data.global_details.hashtags_required|default_if_none:''|escapejs }}", "mentionsRequired": "{{ row_data.global_details.mentions_required|default_if_none:''|escapejs }}", "campaignName": "{{ row_data.global_details.campaign_name|default_if_none:''|escapejs }}", "clientUrl": "{{ row_data.global_details.client_url|default_if_none:''|escapejs }}", "clientName": "{{ row_data.global_details.client_name|default_if_none:''|escapejs }}"}'>
        </div>
    </div>

    <div ng-if="true">
        <a broadcaster ng-click="broadcasterCtrl.broadcast('openRequirementsPopup', {setupUrl: '{% url debra.job_posts_views.campaign_create row_data.campaign_id %}#/3', values: values, storedValues: storedValues, contractId: {{ row_data.contract_id }}})" class="txt_link lessergray" >View Requirements</a>

        <div post-analytics-update class="edit_field_in_table" target-url="{% url debra.job_posts_views.edit_contract row_data.contract_id %}" values-list='{"deliverables": {{ row_data.deliverables.deliverables|jsonify|safe }}, "startDate": "{{ row_data.date_range.start_date|date:"Y-m-d" }}", "latestDate": "{{ row_data.date_range.latest_date|date:"Y-m-d" }}", "requirements": "{{ row_data.post_requirements.post_requirements|default_if_none:''|escapejs }}"}'>
        </div>
    </div>

    {% if row_data.review_details.sending_product_on %}
    <div ng-if="true">
        <a broadcaster ng-click="broadcasterCtrl.broadcast('openProductInfoPopup', {'restrictionsOn': {% if row_data.product_info.restrictions_on %}true{% else %}false{% endif %}, 'productUrlOn': {% if row_data.product_info.product_url_on %}true{% else %}false{% endif %}, setupUrl: '{% url debra.job_posts_views.campaign_create row_data.campaign_id %}#/3', values: values, storedValues: storedValues, preferencesOn: {% if row_data.product_details.details_on %}true{% else %}false{% endif %}, contractId: {{ row_data.contract_id }}})" class="txt_link lessergray" >Product Instructions</a>

        <div post-analytics-update class="edit_field_in_table" target-url="{% url debra.job_posts_views.edit_contract row_data.contract_id %}" values-list='{"productUrl": "{{ row_data.product_url.product_url|default_if_none:''|escapejs }}", "restrictions": "{{ row_data.restrictions.restrictions|default_if_none:''|escapejs }}", "preferences": "{{ row_data.product_details.details|default_if_none:''|escapejs }}"}'>
        </div>
    </div>
    {% endif %}

    <div>
        <a class="txt_link lessergray" href="{{ row_data.review_details.blogger_page }}" target="_blank">Blogger's Form Page</a>
    </div>

</div>
{% endwith %}
